<!DOCTYPE html>
<html lang="ja" class="notranslate" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
<title>Detect Virtual Keyboard Using</title>
<meta name="msapplication-tap-highlight" content="no">
<meta name="HandheldFriendly" content="true">
<meta name="mobileoptimized" content="0">

<!-- for ie & chrome frame -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="imagetoolbar" content="no">

<!-- for smartphone -->
<meta name="format-detection" content="telephone=no">
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- maximum-scale=1 初代iPod touch で必要, minimal-ui は iOS7.1 only, dynamic-viewport は operaで可能  -->
<meta name="viewport" content="width=device-width,target-densitydpi=medium-dpi,initial-scale=1,maximum-scale=1">
<style>
    .hidden-system-node {
        position            : absolute;
        left                : 0;
        top                 : 0;
        visibility          : hidden;
    }
    html, body {
        height  : 100%;
        margin  : 0;
        padding : 0;
        border  : 0;
    }
    #container {
        height     : 100%;
        background : blue;
    }

    #ta {
        display : block;
        width   : 100%;
        padding : 1em 0;
        margin  : 0;
        border  : 0;
    }
</style>

<script type="text/javascript" src="../full.js"></script>

<script>
    X(function(){
        X.Timer.add( 5000, 0, scrollIntoView );
    });

    function scrollIntoView(){
        var size       = X.ViewPort.getSize(),
            maxScrollY = X.ViewPort.getDocumentSize()[ 1 ] - size[ 1 ],
            kbHeight   = maxScrollY - window.scrollY;

        X( '#log' ).text(
            'screenY:' + ( window.screenY || 0 ) +
            ', pageY:' + ( window.pageYOffset || 0 ) +
            ', scrollY:' + ( window.scrollY || 0 ) +
            ', html.scrlY:' + ( X.Doc.html.scrollTop() || 0 ) +
            ', body.scrlY:' + ( X.Doc.body.scrollTop() || 0 ) +
            ', getSize:' + size[ 1 ] +
            ', html.height:' + ( X.Doc.html.height() || 0 ) +
            ', body.height:' + ( X.Doc.body.height() || 0 )
        );

        X( '#size' ).text(
            'maxScrollY:' + maxScrollY +
            ', currentScrollY:' + ( window.scrollY || 0 ) +
            ', softKBHeight:' + kbHeight
        );
    };
</script>

<noscript>
<meta name="viewport" content="width=device-width,initial-scale=1">
</noscript>
</head>
<body>
<div id="container"><div id="inner"><div id="blue"></div><div id="red"></div></div></div>
<p id="log"></p>
<p id="size"></p>
<input id="ta" type="text">
</body>
</html>
